@model ClssLib.Hoa_Don

@{
    ViewData["Title"] = "Details";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<h1> Chi Tiết Đơn Hàng</h1>
@{

    if (@ViewBag.sus != null)
    {
        <div class="col">
            <div class="alert alert-success col-lg-2" role="alert">
                @ViewBag.sus
            </div>
        </div>
    }
}
<div>
    <h4> Đơn Hàng</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Địa Chỉ:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.dia_chi)
        </dd>
        <dt class="col-sm-2">
            Số điện thoại:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.sdt_nguoi_nhan)
        </dd>
        <dt class="col-sm-2">
            Tình trạng đơn Hàng:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.trang_thai)
        </dd>
        <dt class="col-sm-2">
            Tình trạng Thanh Toán:
        </dt>
        <dd class="col-sm-10">
            @if (Model.trang_thai == 1)
            {
                <span class="badge badge-pill badge-success align-items-center align-content-center justify-content-center">
                    <i class="anticon anticon-check align-middle"></i>
                    <div>Đã giao</div>
                </span>
            }
            else
            {
                <span class="badge badge-pill badge-danger align-items-center align-content-center justify-content-center">
                    <i class="anticon anticon-close "></i>
                </span>
            }
        </dd>
        <dt class="col-sm-2">
            Tổng:
        </dt>
        <dd class="col-sm-10">
            @string.Format("{0:0,0}", Model.tong_tien) VND
        </dd>
        <dt class="col-sm-2">
            Ngày xuất đơn:
        </dt>
        <dd class="col-sm-10">
            @String.Format("{0:dd/MM/yyyy}", Model.ngay_sua)
        </dd>
        <dt class="col-sm-2">
            Email người mua:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Khach_Hang.email)
        </dd>
        <dt class="col-sm-2">
            Người Nhận:
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ten_nguoi_nhan)
        </dd>
       
       
    </dl>
</div>

<form asp-action="Details">
    @{
        if (ViewBag.tinhtrang == "Chưa xác nhận")

        {

            <div class="form-group">
                <input type="button" value="Chưa xác nhận" class="btn btn-primary" />
            </div>
        }
        else if (ViewBag.tinhtrang == "Đã xác nhận")
        {
            <div class="form-group">
                <input type="submit" value="Đóng gói" class="btn btn-primary" />
            </div>
        }
    }

</form>
<form asp-action="Update">
    @{
        if (ViewBag.trang_thai == "Đã đóng gói")
        {
            @Html.AntiForgeryToken()
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>


            <div class="form-group">
                <input type="submit" id="giaoviec" value="Giao việc" class="btn btn-success" />
            </div>
        }
    }
</form>
<div class="form-group">
    <a asp-area="Admin" asp-controller="HoaDon" asp-action="Index" class="btn btn-primary">Quay Lại</a>
</div>